/*! Copyright 2025 Adobe
All Rights Reserved. */
import{a as E}from"./transform-quote.js";var i=(r=>(r.ACTIVE="Active",r.IN_REVIEW="In Review",r.INACTIVE="Inactive",r.SUBMITTED="Submitted",r.PENDING="Pending",r.CLOSED="Closed",r.OPEN="Open",r.UPDATED="Updated",r.EDITED="Edited",r.NEW="New",r.DRAFT="Draft",r.DECLINED="Declined",r.CANCELED="Canceled",r.EXPIRED="Expired",r))(i||{});function v(r){var o,_,s,c,l,t;return r?{id:r.template_id,uid:r.uid,name:r.name,createdAt:r.created_at,updatedAt:r.updated_at,expirationDate:r.expiration_date,status:r.status,salesRepName:r.sales_rep_name,buyer:{firstname:r.buyer.firstname,lastname:r.buyer.lastname},comments:(o=r.comments)==null?void 0:o.map(n=>{var d;return{uid:n.uid,createdAt:n.created_at,author:{firstname:n.author.firstname,lastname:n.author.lastname},text:n.text,attachments:(d=n.attachments)==null?void 0:d.map(a=>({name:a.name,url:a.url}))}}),prices:r.prices&&{subtotalExcludingTax:r.prices.subtotal_excluding_tax&&{value:r.prices.subtotal_excluding_tax.value,currency:r.prices.subtotal_excluding_tax.currency},subtotalIncludingTax:r.prices.subtotal_including_tax&&{value:r.prices.subtotal_including_tax.value,currency:r.prices.subtotal_including_tax.currency},subtotalWithDiscountExcludingTax:r.prices.subtotal_with_discount_excluding_tax&&{value:r.prices.subtotal_with_discount_excluding_tax.value,currency:r.prices.subtotal_with_discount_excluding_tax.currency},appliedTaxes:(_=r.prices.applied_taxes)==null?void 0:_.map(n=>({amount:{value:n.amount.value,currency:n.amount.currency},label:n.label})),grandTotal:r.prices.grand_total&&{value:r.prices.grand_total.value,currency:r.prices.grand_total.currency}},history:(s=r.history)==null?void 0:s.map(n=>({uid:n.uid,createdAt:n.created_at,author:{firstname:n.author.firstname,lastname:n.author.lastname},changeType:n.change_type,changes:n.changes})),items:((c=r.items)==null?void 0:c.map(n=>{var d,a,g,p,f,y;return{uid:n.uid,product:{uid:n.product.uid,sku:n.product.sku,name:n.product.name},quantity:n.quantity,prices:{originalItemPrice:{value:n.prices.original_item_price.value,currency:n.prices.original_item_price.currency},rowTotal:{value:n.prices.row_total.value,currency:n.prices.row_total.currency}},catalogDiscount:n.prices.catalog_discount&&{amountOff:n.prices.catalog_discount.amount_off,percentOff:n.prices.catalog_discount.percent_off},discounts:(a=(d=n.prices)==null?void 0:d.discounts)==null?void 0:a.map(e=>({label:e.label,value:e.value,amount:{value:e.amount.value,currency:e.amount.currency}})),noteFromBuyer:(g=n.note_from_buyer)==null?void 0:g.map(e=>({createdAt:e.created_at,creatorId:e.creator_id,creatorType:e.creator_type,negotiableQuoteItemUid:e.negotiable_quote_template_item_uid,note:e.note,noteUid:e.note_uid})),noteFromSeller:(p=n.note_from_seller)==null?void 0:p.map(e=>({createdAt:e.created_at,creatorId:e.creator_id,creatorType:e.creator_type,negotiableQuoteItemUid:e.negotiable_quote_template_item_uid,note:e.note,noteUid:e.note_uid})),configurableOptions:(f=n.configurable_options)==null?void 0:f.map(e=>({optionLabel:e.option_label,valueLabel:e.value_label})),bundleOptions:(y=n.bundle_options)==null?void 0:y.map(e=>({label:e.label,values:e.values.map(u=>({label:u.label,quantity:u.quantity,originalPrice:{value:u.original_price.value,currency:u.original_price.currency},price:{value:u.priceV2.value,currency:u.priceV2.currency}}))}))}}))||[],shippingAddresses:(l=r.shipping_addresses)==null?void 0:l.map(n=>({uid:n.uid,firstname:n.firstname,lastname:n.lastname,company:n.company,street:n.street,city:n.city,postcode:n.postcode,country:{code:n.country.code,label:n.country.label},telephone:n.telephone,region:n.region?{code:n.region.code,label:n.region.label,regionId:n.region.region_id}:void 0})),referenceDocuments:(t=r.reference_document_links)==null?void 0:t.map(n=>({uid:n.link_id,name:n.document_name,identifier:n.document_identifier,url:n.reference_document_url})),canAccept:[i.SUBMITTED,i.PENDING,i.EDITED,i.OPEN].includes(r.status),canDelete:r.status===i.DRAFT,canReopen:[i.DECLINED,i.CANCELED,i.EXPIRED].includes(r.status),canCancel:[i.SUBMITTED,i.PENDING,i.OPEN,i.ACTIVE].includes(r.status),canSendForReview:[i.OPEN,i.DRAFT,i.NEW].includes(r.status),canGenerateQuoteFromTemplate:[i.ACTIVE].includes(r.status),canEditTemplateItems:[i.SUBMITTED,i.DRAFT,i.OPEN].includes(r.status)}:null}function b(r){var s;if(!r)return null;const o={items:((s=r.items)==null?void 0:s.map(c=>({id:c.template_id,uid:"TBD",name:c.name,createdAt:"0000-00-00 00:00:00",updatedAt:"0000-00-00 00:00:00",status:c.status,state:c.state,prices:{grandTotal:{value:0,currency:"USD"},minNegotiatedGrandTotal:{value:c.min_negotiated_grand_total,currency:"USD"}},lastSharedAt:c.last_shared_at,lastOrderedAt:"0000-00-00 00:00:00",expirationDate:"0000-00-00 00:00:00",ordersPlaced:c.orders_placed,canGenerateQuoteFromTemplate:[i.ACTIVE].includes(c.status)})))||[],pageInfo:{currentPage:r.page_info.current_page,pageSize:r.page_info.page_size,totalPages:r.page_info.total_pages},totalCount:r.total_count,sortFields:r.sort_fields?{default:r.sort_fields.default,options:r.sort_fields.options}:void 0},_=E(o);return{...o,paginationInfo:_||void 0}}export{i as N,v as a,b as t};
//# sourceMappingURL=transform-quote-template.js.map
