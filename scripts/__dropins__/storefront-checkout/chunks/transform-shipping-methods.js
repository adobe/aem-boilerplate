/*! Copyright 2025 Adobe
All Rights Reserved. */
import"./fetch-graphql.js";import"@dropins/tools/lib.js";import"@dropins/tools/event-bus.js";const s=e=>e?"code"in e&&"value"in e:!1,m=e=>e?e.filter(s).map(r=>{const{code:i,value:o}=r;return{code:i,value:o}}):[],n=e=>{const r=e.street.filter(Boolean);return{city:e.city,company:e.company||void 0,country:f(e.country),customAttributes:m(e.custom_attributes),fax:e.fax||void 0,firstName:e.firstname,id:(e==null?void 0:e.id)||void 0,lastName:e.lastname,middleName:e.middlename||void 0,postCode:e.postcode||void 0,prefix:e.prefix||void 0,region:p(e.region),street:r,suffix:e.suffix||void 0,telephone:e.telephone||void 0,uid:e.uid,vatId:e.vat_id||void 0}},A=e=>{if(e)return n(e)},N=e=>e.filter(r=>!!r).map(r=>{const{available_shipping_methods:i,selected_shipping_method:o,same_as_billing:u,...l}=r;return{...n(l),availableShippingMethods:h(i),selectedShippingMethod:x(o),sameAsBilling:u}}),C=e=>{var r,i;if(e)return{city:e.city,company:e.company,countryCode:e.country.code,customAttributes:e.customAttributes||[],firstName:e.firstName,lastName:e.lastName,postcode:e.postCode,region:(r=e.region)==null?void 0:r.code,regionId:(i=e.region)==null?void 0:i.id,street:e.street,telephone:e.telephone,vatId:e.vatId,prefix:e.prefix,suffix:e.suffix,middleName:e.middleName,fax:e.fax}},f=e=>({code:(e==null?void 0:e.code)??"",label:(e==null?void 0:e.label)??""}),p=e=>{if(!(!(e!=null&&e.code)||!(e!=null&&e.label)))return{code:e.code,name:e.label,id:e.region_id??void 0}},_=(e,r)=>e.amount.value-r.amount.value,v=e=>e==null,t=e=>!(!e||!e.method_code||!e.method_title||v(e.amount.value)||!e.amount.currency),c=e=>({amount:{value:e.amount.value,currency:e.amount.currency},title:e.method_title,code:e.method_code,carrier:{code:e.carrier_code,title:e.carrier_title},value:`${e.carrier_code} - ${e.method_code}`,...e.price_excl_tax&&{amountExclTax:{value:e.price_excl_tax.value,currency:e.price_excl_tax.currency}},...e.price_incl_tax&&{amountInclTax:{value:e.price_incl_tax.value,currency:e.price_incl_tax.currency}}}),x=e=>{if(t(e))return c(e)},h=e=>e?e.filter(t).map(r=>c(r)).sort(_):[];export{h as a,N as b,A as c,x as d,p as e,m as f,f as g,C as t};
//# sourceMappingURL=transform-shipping-methods.js.map
