/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsx as e,jsxs as n,Fragment as u}from"@dropins/tools/preact-jsx-runtime.js";import{classes as h}from"@dropins/tools/lib.js";import{Skeleton as v,SkeletonRow as d,Card as f}from"@dropins/tools/components.js";import"@dropins/tools/event-bus.js";import"../chunks/PurchaseOrderHistoryLogContent.js";import{P as p}from"../chunks/PurchaseOrdersHeader.js";import"@dropins/tools/preact-hooks.js";import{u as w}from"../chunks/usePurchaseOrderData.js";import{Fragment as g}from"@dropins/tools/preact.js";import*as t from"@dropins/tools/preact-compat.js";import{useText as m,Text as C}from"@dropins/tools/i18n.js";const b=r=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},t.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M0.75 12C0.75 5.78421 5.78421 0.75 12 0.75C18.2158 0.75 23.25 5.78421 23.25 12C23.25 18.2158 18.2158 23.25 12 23.25C5.78421 23.25 0.75 18.2158 0.75 12Z",stroke:"currentColor"}),t.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M6.75 12.762L10.2385 15.75L17.25 9",stroke:"currentColor"})),x=r=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 12C0 5.37931 5.37931 0 12 0C18.6207 0 24 5.37931 24 12C24 18.6207 18.6207 24 12 24C5.37931 24 0 18.6207 0 12ZM11.8885 5.06101C11.1405 5.06101 10.5357 5.66579 10.5357 6.4138V6.57295C10.5835 7.27321 11.1882 7.81433 11.8885 7.76658H12.0795C12.7797 7.70292 13.289 7.09815 13.2413 6.4138C13.2413 5.66579 12.6365 5.06101 11.8885 5.06101ZM13.1935 16.8223H14.1007C14.2599 16.8223 14.4031 16.9655 14.4031 17.1247V17.7294C14.4031 17.9045 14.2599 18.0318 14.1007 18.0318H9.8832C9.70813 18.0318 9.58081 17.8886 9.58081 17.7294V17.1247C9.58081 16.9496 9.72405 16.8223 9.8832 16.8223H10.7904V10.7905H9.8832C9.70813 10.7905 9.58081 10.6472 9.58081 10.4881V9.88329C9.58081 9.70823 9.72405 9.58091 9.8832 9.58091H12.5888C12.923 9.58091 13.1935 9.85146 13.1935 10.1857V16.8223Z",fill:"currentColor"})),E=r=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},t.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M0.75 12C0.75 5.78421 5.78421 0.75 12 0.75C18.2158 0.75 23.25 5.78421 23.25 12C23.25 18.2158 18.2158 23.25 12 23.25C5.78421 23.25 0.75 18.2158 0.75 12Z",stroke:"currentColor"}),t.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M11.75 5.88423V4.75H12.25V5.88423L12.0485 13.0713H11.9515L11.75 5.88423ZM11.7994 18.25V16.9868H12.2253V18.25H11.7994Z",stroke:"currentColor"})),_=({approvalFlow:r=[]})=>{const a=m({pending:"PurchaseOrders.approvalFlow.ariaLabels.icons.pending",approved:"PurchaseOrders.approvalFlow.ariaLabels.icons.approved",rejected:"PurchaseOrders.approvalFlow.ariaLabels.icons.rejected"});if(!(r!=null&&r.length))return e("div",{className:"b2b-purchase-order-approval-flow-content",children:e(C,{id:"PurchaseOrders.approvalFlow.emptyText"})});const s=o=>{switch(o){case"PENDING":return e(x,{className:"b2b-purchase-order-approval-flow-content__icon--pending","aria-label":a.pending,role:"img"});case"APPROVED":return e(b,{className:"b2b-purchase-order-approval-flow-content__icon--approved","aria-label":a.approved,role:"img"});case"REJECTED":return e(E,{className:"b2b-purchase-order-approval-flow-content__icon--rejected","aria-label":a.rejected,role:"img"});default:return null}};return e("div",{className:h(["b2b-purchase-order-approval-flow-content"]),children:e("ul",{className:"b2b-purchase-order-approval-flow-content__list",children:r.map((o,l)=>n(g,{children:[n("li",{className:"b2b-purchase-order-approval-flow-content__item",children:[e("div",{className:"b2b-purchase-order-approval-flow-content__title",children:o.ruleName}),o.events.map((c,i)=>n("div",{className:"b2b-purchase-order-approval-flow-content__description",children:[s(c.status),c.message]},i))]}),l<r.length-1&&e("hr",{className:"b2b-purchase-order-approval-flow-content__divider"})]},l))})})},Z=({className:r,withHeader:a=!0,withWrapper:s=!0})=>{const{poDataLoading:o,purchaseOrderData:l}=w(),c=m({headerText:"PurchaseOrders.approvalFlow.headerText"}),i=n(u,{children:[a&&s?e(p,{headerText:c.headerText,divider:!0}):null,o?n(v,{rowGap:"medium","data-testid":"approval-flow-loader",children:[e(d,{size:"small",variant:"row",fullWidth:!0,lines:1,style:{maxWidth:300}}),e(d,{size:"medium",variant:"row",fullWidth:!0,lines:1})]}):e(_,{approvalFlow:(l==null?void 0:l.approvalFlow)||[]})]});return n("div",{className:h(["b2b-purchase-order-approval-flow",r]),"data-testid":"order-approval-flow-container",children:[a&&!s?e(p,{headerText:c.headerText}):null,s?e(f,{variant:"secondary","data-testid":"orderApprovalFlowCard",children:i}):i]})};export{Z as PurchaseOrderApprovalFlow,Z as default};
//# sourceMappingURL=PurchaseOrderApprovalFlow.js.map
