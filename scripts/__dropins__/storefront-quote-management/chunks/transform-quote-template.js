/*! Copyright 2025 Adobe
All Rights Reserved. */
import{t as y}from"./transform-quote.js";function f(r){var u,s,o,i,l;return r?{id:r.template_id,uid:r.uid,name:r.name,createdAt:r.created_at,updatedAt:r.updated_at,expirationDate:r.expiration_date,status:r.status,salesRepName:r.sales_rep_name,buyer:{firstname:r.buyer.firstname,lastname:r.buyer.lastname},comments:(u=r.comments)==null?void 0:u.map(e=>{var t;return{uid:e.uid,createdAt:e.created_at,author:{firstname:e.author.firstname,lastname:e.author.lastname},text:e.text,attachments:(t=e.attachments)==null?void 0:t.map(a=>({name:a.name,url:a.url}))}}),prices:r.prices&&{subtotalExcludingTax:r.prices.subtotal_excluding_tax&&{value:r.prices.subtotal_excluding_tax.value,currency:r.prices.subtotal_excluding_tax.currency},subtotalIncludingTax:r.prices.subtotal_including_tax&&{value:r.prices.subtotal_including_tax.value,currency:r.prices.subtotal_including_tax.currency},subtotalWithDiscountExcludingTax:r.prices.subtotal_with_discount_excluding_tax&&{value:r.prices.subtotal_with_discount_excluding_tax.value,currency:r.prices.subtotal_with_discount_excluding_tax.currency},appliedTaxes:(s=r.prices.applied_taxes)==null?void 0:s.map(e=>({amount:{value:e.amount.value,currency:e.amount.currency},label:e.label})),grandTotal:r.prices.grand_total&&{value:r.prices.grand_total.value,currency:r.prices.grand_total.currency}},history:(o=r.history)==null?void 0:o.map(e=>({uid:e.uid,createdAt:e.created_at,author:{firstname:e.author.firstname,lastname:e.author.lastname},changeType:e.change_type,changes:e.changes})),items:((i=r.items)==null?void 0:i.map(e=>{var t,a,d,_,g,p;return{uid:e.uid,product:{uid:e.product.uid,sku:e.product.sku,name:e.product.name},quantity:e.quantity,prices:{originalItemPrice:{value:e.prices.original_item_price.value,currency:e.prices.original_item_price.currency},rowTotal:{value:e.prices.row_total.value,currency:e.prices.row_total.currency}},catalogDiscount:e.prices.catalog_discount&&{amountOff:e.prices.catalog_discount.amount_off,percentOff:e.prices.catalog_discount.percent_off},discounts:(a=(t=e.prices)==null?void 0:t.discounts)==null?void 0:a.map(n=>({label:n.label,value:n.value,amount:{value:n.amount.value,currency:n.amount.currency}})),noteFromBuyer:(d=e.note_from_buyer)==null?void 0:d.map(n=>({createdAt:n.created_at,creatorId:n.creator_id,creatorType:n.creator_type,negotiableQuoteItemUid:n.negotiable_quote_template_item_uid,note:n.note,noteUid:n.note_uid})),noteFromSeller:(_=e.note_from_seller)==null?void 0:_.map(n=>({createdAt:n.created_at,creatorId:n.creator_id,creatorType:n.creator_type,negotiableQuoteItemUid:n.negotiable_quote_template_item_uid,note:n.note,noteUid:n.note_uid})),configurableOptions:(g=e.configurable_options)==null?void 0:g.map(n=>({optionLabel:n.option_label,valueLabel:n.value_label})),bundleOptions:(p=e.bundle_options)==null?void 0:p.map(n=>({label:n.label,values:n.values.map(c=>({label:c.label,quantity:c.quantity,originalPrice:{value:c.original_price.value,currency:c.original_price.currency},price:{value:c.priceV2.value,currency:c.priceV2.currency}}))}))}}))||[],shippingAddresses:(l=r.shipping_addresses)==null?void 0:l.map(e=>({uid:e.uid,firstname:e.firstname,lastname:e.lastname,company:e.company,street:e.street,city:e.city,postcode:e.postcode,country:{code:e.country.code,label:e.country.label},telephone:e.telephone,region:e.region?{code:e.region.code,label:e.region.label,regionId:e.region.region_id}:void 0})),canAccept:["Submitted","Pending","Edited","Open"].includes(r.status),canDelete:["Declined","Canceled","Expired"].includes(r.status),canReopen:["Declined","Canceled","Expired"].includes(r.status),canCancel:["Active","Submitted","Pending","Edited","Open","Updated"].includes(r.status),canSendForReview:["Draft","New"].includes(r.status)}:null}function v(r){var o;if(!r)return null;const u={items:((o=r.items)==null?void 0:o.map(i=>({id:i.template_id,uid:"TBD",name:i.name,createdAt:"0000-00-00 00:00:00",updatedAt:"0000-00-00 00:00:00",status:i.status,state:i.state,prices:{grandTotal:{value:0,currency:"USD"},minNegotiatedGrandTotal:{value:i.min_negotiated_grand_total,currency:"USD"}},lastSharedAt:i.last_shared_at,lastOrderedAt:"0000-00-00 00:00:00",expirationDate:"0000-00-00 00:00:00",ordersPlaced:i.orders_placed})))||[],pageInfo:{currentPage:r.page_info.current_page,pageSize:r.page_info.page_size,totalPages:r.page_info.total_pages},totalCount:r.total_count,sortFields:r.sort_fields?{default:r.sort_fields.default,options:r.sort_fields.options}:void 0},s=y(u);return{...u,paginationInfo:s||void 0}}export{f as a,v as t};
//# sourceMappingURL=transform-quote-template.js.map
