/*! Copyright 2025 Adobe
All Rights Reserved. */
const f="searchInputContext",C="searchResultsContext",w="livesearch-plp",N="livesearch-popover",_="search-product-click",I="search-request-sent",b="search-response-received",T="search-results-view",i="category-results-view",y="channelContext";function g(){return window.adobeDataLayer=window.adobeDataLayer||[],window.adobeDataLayer}function R(s){const t=g();return t.getState?t.getState(s):{}}function S(s,t){const n=g();n.push({[s]:null}),n.push({[s]:t})}function x(){return{_id:"https://ns.adobe.com/xdm/channels/web",_type:"https://ns.adobe.com/xdm/channel-types/web"}}function l(){S(y,x())}function h(s,t){g().push(c=>{const e=c.getState?c.getState():{};c.push({event:s,eventInfo:{...e,...t}})})}const v=s=>{l(),h(I,{searchUnitId:s})},P=s=>{l(),h(b,{searchUnitId:s})},A=s=>{h(i,{searchUnitId:s})},k=s=>{h(T,{searchUnitId:s})},H=(s,t)=>{h(_,{sku:s,searchUnitId:t})},O=(s,t,n,c,e,o,r)=>{if(!g)return;const a=R(f)||{};a!=null&&a.units||(a.units=[]);const u={searchUnitId:s,searchRequestId:t,queryTypes:["products","suggestions"],phrase:n,pageSize:e,currentPage:o,filter:c,sort:r},d=a.units.findIndex(E=>E.searchUnitId===s);d<0?a.units.push(u):a.units[d]=u,S(f,a)},V=(s,t,n)=>{var p,a;if(!g)return;const e=R(C)||{};e!=null&&e.units||(e.units=[]);const o=e.units.findIndex(u=>u.searchUnitId===s),r={searchUnitId:s,searchRequestId:t,products:L(n.items),categories:[],suggestions:D(n.suggestions),page:((p=n==null?void 0:n.pageInfo)==null?void 0:p.currentPage)||1,perPage:((a=n==null?void 0:n.pageInfo)==null?void 0:a.pageSize)||20,facets:U(n.facets)};o<0?e.units.push(r):e.units[o]=r,S(C,e)},L=s=>s?s.map((n,c)=>{var e,o,r,p,a,u,d,E;return{name:n==null?void 0:n.name,sku:n==null?void 0:n.sku,url:(n==null?void 0:n.url)??"",imageUrl:((e=n==null?void 0:n.images[0])==null?void 0:e.url)??"",price:((p=(r=(o=n==null?void 0:n.price)==null?void 0:o.final)==null?void 0:r.amount)==null?void 0:p.value)??((E=(d=(u=(a=n==null?void 0:n.priceRange)==null?void 0:a.minimum)==null?void 0:u.regular)==null?void 0:d.amount)==null?void 0:E.value),rank:c}}):[],D=s=>s?s.map((n,c)=>({suggestion:n,rank:c})):[],U=s=>s?s.map(n=>({attribute:n==null?void 0:n.attribute,title:n==null?void 0:n.title,type:(n==null?void 0:n.type)||"PINNED",buckets:n==null?void 0:n.buckets.map(c=>c)})):[];export{w as P,N as S,v as a,V as b,P as c,k as d,A as e,H as s,O as u};
//# sourceMappingURL=acdlEvents.js.map
