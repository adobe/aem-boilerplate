/*! Copyright 2026 Adobe
All Rights Reserved. */
import{jsx as h}from"@dropins/tools/preact-jsx-runtime.js";import{useState as o,useEffect as w}from"@dropins/tools/preact-compat.js";import{Pagination as S}from"@dropins/tools/components.js";import{events as d}from"@dropins/tools/event-bus.js";import{d as $}from"../chunks/search.js";import"@dropins/tools/lib.js";import"../chunks/initialize.js";import"../fragments.js";import"../chunks/acdlEvents.js";import"@dropins/tools/fetch-graphql.js";const k=({scope:a,onPageChange:e})=>{const[s,f]=o(),[n,l]=o(),[p,g]=o({});w(()=>{const t=d.on("search/result",r=>{var i,c,u,m;g(r.request),f((c=(i=r.result)==null?void 0:i.pageInfo)==null?void 0:c.currentPage),l((m=(u=r.result)==null?void 0:u.pageInfo)==null?void 0:m.totalPages)},{eager:!0,scope:a});return()=>{t==null||t.off()}},[]);const P=async t=>{const r=new URLSearchParams(window.location.search);r.set("page",String(t)),window.history.pushState({},"",`${window.location.pathname}?${r.toString()}`),e==null||e(t),$({...p,currentPage:t},{scope:a})};return!s||!n?null:h(S,{currentPage:s,totalPages:n,onChange:P})};export{k as Pagination,k as default};
//# sourceMappingURL=Pagination.js.map
