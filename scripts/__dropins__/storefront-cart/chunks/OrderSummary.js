/*! Copyright 2026 Adobe
All Rights Reserved. */
import{jsx as r,jsxs as p,Fragment as gr}from"@dropins/tools/preact-jsx-runtime.js";import{useState as V,useEffect as re,useCallback as Tr,Fragment as hr}from"@dropins/tools/preact-compat.js";import{VComponent as L,classes as lr,Slot as ce}from"@dropins/tools/lib.js";import{events as ie}from"@dropins/tools/event-bus.js";import{g as yr}from"./persisted-data.js";import{s as te}from"./resetCart.js";import{g as Cr}from"./getEstimatedTotals.js";import{a as Sr}from"./acdl.js";import"@dropins/tools/preact-hooks.js";import{Accordion as ur,AccordionSection as or,ProgressSpinner as Ir,Divider as br,Price as u,Button as fr,Icon as sr}from"@dropins/tools/components.js";/* empty css                */import{O as y}from"./OrderSummaryLine.js";import{S as mr}from"./ChevronUp.js";import{S as dr}from"./ChevronDown.js";import{useText as pr,Text as xr}from"@dropins/tools/i18n.js";import{S as _r}from"./Coupon.js";import{S as vr}from"./GiftCard.js";const Pr=({className:ee,children:Z,variant:C="primary",heading:d,loading:B=!0,subTotal:f,shipping:T,discounts:_,taxTotal:S,taxesApplied:k,total:e,primaryAction:F,coupons:o,giftCards:A,totalSaved:v,appliedGiftCards:m,printedCard:t,itemsGiftWrapping:x,orderGiftWrapping:g,updateLineItems:s=P=>P,...w})=>{const[P,E]=V(!1),l=pr({checkout:"Cart.PriceSummary.checkout",discountedPrice:"Cart.CartItem.discountedPrice",download:"Cart.CartItem.download",heading:"Cart.Cart.heading",message:"Cart.CartItem.message",regularPrice:"Cart.CartItem.regularPrice",recipient:"Cart.CartItem.recipient",sender:"Cart.CartItem.sender",file:"Cart.CartItem.file",files:"Cart.CartItem.files",orderSummary:"Cart.PriceSummary.orderSummary",taxesBreakdownTitle:"Cart.PriceSummary.taxes.breakdown",taxTotal:"Cart.PriceSummary.taxes.total",taxEstimated:"Cart.PriceSummary.taxes.estimated",taxTotalOnly:"Cart.PriceSummary.taxes.totalOnly",showTaxBreakdown:"Cart.PriceSummary.taxes.showBreakdown",hideTaxBreakdown:"Cart.PriceSummary.taxes.hideBreakdown",taxToBeDetermined:"Cart.PriceSummary.taxToBeDetermined",subtotalLabel:"Cart.PriceSummary.subTotal.label",subtotalWithTaxes:"Cart.PriceSummary.subTotal.withTaxes",subtotalWithoutTaxes:"Cart.PriceSummary.subTotal.withoutTaxes",totalEstimated:"Cart.PriceSummary.total.estimated",totalLabel:"Cart.PriceSummary.total.label",totalWithoutTax:"Cart.PriceSummary.total.withoutTax",totalSaved:"Cart.PriceSummary.total.saved",shippingLabel:"Cart.PriceSummary.shipping.label",zipPlaceholder:"Cart.PriceSummary.shipping.zipPlaceholder",editZipAction:"Cart.PriceSummary.shipping.editZipAction",shippingWithTaxes:"Cart.PriceSummary.shipping.withTaxes",shippingWithoutTaxes:"Cart.PriceSummary.shipping.withoutTaxes",shippingEstimated:"Cart.PriceSummary.shipping.estimated",shippingEstimatedByState:"Cart.PriceSummary.shipping.alternateField.state",shippingEstimatedByZip:"Cart.PriceSummary.shipping.alternateField.zip",destinationLinkAriaLabel:"Cart.PriceSummary.shipping.destinationLinkAriaLabel",applyButton:"Cart.PriceSummary.estimatedShippingForm.apply.label",countryField:"Cart.PriceSummary.estimatedShippingForm.country.placeholder",freeShipping:"Cart.PriceSummary.freeShipping",stateField:"Cart.PriceSummary.estimatedShippingForm.state.placeholder",zipField:"Cart.PriceSummary.estimatedShippingForm.zip.placeholder",printedCardTitle:"Cart.PriceSummary.giftOptionsTax.printedCard.title",printedCardInclTax:"Cart.PriceSummary.giftOptionsTax.printedCard.inclTax",printedCardExclTax:"Cart.PriceSummary.giftOptionsTax.printedCard.exclTax",itemGiftWrappingTitle:"Cart.PriceSummary.giftOptionsTax.itemGiftWrapping.title",itemGiftWrappingInclTax:"Cart.PriceSummary.giftOptionsTax.itemGiftWrapping.inclTax",itemGiftWrappingExclTax:"Cart.PriceSummary.giftOptionsTax.itemGiftWrapping.exclTax",orderGiftWrappingTitle:"Cart.PriceSummary.giftOptionsTax.orderGiftWrapping.title",orderGiftWrappingInclTax:"Cart.PriceSummary.giftOptionsTax.orderGiftWrapping.inclTax",orderGiftWrappingExclTax:"Cart.PriceSummary.giftOptionsTax.orderGiftWrapping.exclTax"}),O=m?r(y,{label:m==null?void 0:m.label,price:m==null?void 0:m.price,classSuffixes:["applied-gift-cards"],children:m==null?void 0:m.content},m==null?void 0:m.label):null,N=f&&p(y,{label:l.subtotalLabel,price:f.price,classSuffixes:["subTotal"],children:[f.taxIncluded&&r("div",{"data-testid":"sub-total-tax-caption",className:"cart-order-summary__caption",children:r("span",{children:l.subtotalWithTaxes})}),f.taxExcluded?r("div",{"data-testid":"sub-total-tax-caption-excluded",className:"cart-order-summary__caption",children:p("span",{children:[f.priceExcludingTax," ",l.subtotalWithoutTaxes]})}):void 0]},l.subtotalLabel),W=_&&_.length>0&&r(gr,{children:_.map(i=>p(y,{label:i.label,price:i.price,classSuffixes:["discount"],children:[i.coupon&&r(L,{node:i.coupon,className:"cart-order-summary__coupon__code"}),i.caption&&r(L,{node:i.caption,className:"cart-order-summary__caption"})]},i.label))}),n=k&&k.length>0?r(ur,{"data-testid":"tax-breakdown",className:"cart-order-summary__taxes",iconOpen:dr,iconClose:mr,children:p(or,{title:l.taxesBreakdownTitle,secondaryText:!P&&S?r(L,{node:S.price,className:"cart-order-summary__price"}):void 0,renderContentWhenClosed:!1,onStateChange:E,children:[r("div",{className:"cart-order-summary__appliedTaxes",children:k.map(i=>r(y,{label:i.label,price:i.price,classSuffixes:["taxEntry"],labelClassSuffix:"muted"},i.label))}),S&&r(y,{label:l.taxTotal,price:S.price,classSuffixes:["taxTotal"],labelClassSuffix:"muted"})]})}):S&&r(y,{label:S.estimated?l.taxEstimated:l.taxTotalOnly,price:S.price,classSuffixes:["taxTotal"],testId:"tax-total-only"}),U=t!=null&&t.renderContent?p(y,{label:l.printedCardTitle,price:t.taxInclAndExcl||t.taxIncluded?t.priceInclTax:t.priceExclTax,classSuffixes:["printedCardContent"],children:[t.taxIncluded&&r("div",{"data-testid":"printed-card-incl",className:"cart-order-summary__caption",children:r("span",{children:l.printedCardInclTax})}),t.taxInclAndExcl?r("div",{"data-testid":"printed-card-incl-excl",className:"cart-order-summary__caption",children:p("span",{children:[t.priceExclTax," ",l.printedCardExclTax]})}):void 0]},l.printedCardTitle):null,z=x!=null&&x.renderContent?p(y,{label:l.itemGiftWrappingTitle,price:x.taxInclAndExcl||x.taxIncluded?x.priceInclTax:x.priceExclTax,classSuffixes:["itemsGiftWrappingContent"],children:[x.taxIncluded?r("div",{"data-testid":"item-gift-wrapping-incl",className:"cart-order-summary__caption",children:r("span",{children:l.itemGiftWrappingInclTax})}):null,x.taxInclAndExcl?r("div",{"data-testid":"item-gift-wrapping-incl-excl",className:"cart-order-summary__caption",children:p("span",{children:[x.priceExclTax," ",l.itemGiftWrappingExclTax]})}):null]},l.itemGiftWrappingTitle):null,h=g!=null&&g.renderContent?p(y,{label:l.orderGiftWrappingTitle,price:g.taxInclAndExcl||g.taxIncluded?g.priceInclTax:g.priceExclTax,classSuffixes:["orderGiftWrappingContent"],children:[g.taxIncluded&&r("div",{"data-testid":"order-gift-wrapping-incl",className:"cart-order-summary__caption",children:r("span",{children:l.orderGiftWrappingInclTax})}),g.taxInclAndExcl?r("div",{"data-testid":"order-gift-wrapping-incl-excl",className:"cart-order-summary__caption",children:p("span",{children:[g.priceExclTax," ",l.orderGiftWrappingExclTax]})}):void 0]},l.orderGiftWrappingTitle):null,b=[{key:"subTotalContent",sortOrder:100,content:N},...T?[{key:"shippingContent",sortOrder:200,content:r(L,{node:T,className:"cart-order-summary__shipping"})}]:[],{key:"printedCard",sortOrder:300,content:U},{key:"itemsGiftWrappingContent",sortOrder:400,content:z},{key:"orderGiftWrappingContent",sortOrder:500,content:h},{key:"discountsContent",sortOrder:600,content:W},{key:"appliedGiftCardsContent",sortOrder:700,content:O},{key:"taxContent",sortOrder:800,content:n},...e?[{key:"taxContent",sortOrder:900,content:r(y,{label:e.estimated?l.totalEstimated:l.totalLabel,price:e.price,classSuffixes:["total","total--padded"],testId:"total-content",labelClassSuffix:"bold"})}]:[],...e!=null&&e.priceWithoutTax?[{key:"totalWithoutTaxContent",sortOrder:1e3,content:r(y,{label:l.totalWithoutTax,price:e.priceWithoutTax,classSuffixes:["totalWithoutTax"],testId:"total-without-tax",labelClassSuffix:"muted"})}]:[],...v?[{key:"totalSavedContent",sortOrder:1100,content:r(y,{label:l.totalSaved,price:v,classSuffixes:["saved"],testId:"total-saved",labelClassSuffix:"muted"})}]:[],...F?[{key:"primaryActionContent",sortOrder:1200,content:r("div",{className:lr(["cart-order-summary__entry","cart-order-summary__primaryAction"]),children:F})}]:[],...o?[{key:"couponsContent",sortOrder:1300,content:r(L,{node:o,className:"cart-order-summary__coupons"})}]:[],...A?[{key:"giftCardsContent",sortOrder:1400,content:r(L,{node:A,className:"cart-order-summary__gift-cards"})}]:[]],X=s(b).sort((i,I)=>i.sortOrder-I.sortOrder);return p("div",{...w,className:lr(["cart-order-summary",["cart-order-summary--loading",B],[`cart-order-summary__${C}`,C],ee]),children:[B&&r(Ir,{className:"cart-order-summary__spinner"}),p("div",{className:"cart-order-summary__heading",children:[d&&r(L,{node:d,className:"cart-order-summary__heading-text"}),r(br,{variant:"primary",className:"cart-order-summary__divider-primary"})]}),r("div",{className:"cart-order-summary__content",children:X.map(i=>Array.isArray(i.content)?r(ur,{className:i.className,actionIconPosition:"right",iconOpen:dr,iconClose:mr,children:r(or,{defaultOpen:!1,title:i.title,renderContentWhenClosed:!1,children:i.content.map(I=>I.content)})},i.key):i.content)})]})},Er=()=>{const[ee,Z]=V(!1),[C,d]=V();return{handleEstimateTotals:(f,T)=>{Z(!0);const{shippingCountry:_,shippingState:S="",shippingStateId:k,shippingZip:e=""}=f,F={countryCode:_,postcode:e,region:{region:S,id:k},shipping_method:{carrier_code:(T==null?void 0:T.carrier_code)||"",method_code:(T==null?void 0:T.method_code)||""}};Cr(F).then(o=>{var A,v,m,t,x,g,s,w,P,E,l,O,N,W,n,U,z,h,b,X;o&&d({estimatedTaxTotal:{amount:(A=o.totalTax)==null?void 0:A.value,currency:(v=o.totalTax)==null?void 0:v.currency},estimatedSubTotal:{excludingTax:{amount:(t=(m=o.subtotal)==null?void 0:m.excludingTax)==null?void 0:t.value,currency:(g=(x=o.subtotal)==null?void 0:x.excludingTax)==null?void 0:g.currency},includingTax:{amount:(w=(s=o.subtotal)==null?void 0:s.includingTax)==null?void 0:w.value,currency:(E=(P=o.subtotal)==null?void 0:P.includingTax)==null?void 0:E.currency},includingDiscountOnly:{amount:(O=(l=o.subtotal)==null?void 0:l.includingDiscountOnly)==null?void 0:O.value,currency:(W=(N=o.subtotal)==null?void 0:N.includingDiscountOnly)==null?void 0:W.currency}},estimatedGrandTotalPrice:{includingTax:{amount:(n=o.total)==null?void 0:n.includingTax.value,currency:(U=o.total)==null?void 0:U.includingTax.currency},excludingTax:{amount:(z=o.total)==null?void 0:z.excludingTax.value,currency:(h=o.total)==null?void 0:h.excludingTax.currency}},estimatedAppliedTaxes:{taxes:(b=o.appliedTaxes)==null?void 0:b.map(i=>{var I,D;return{label:i.label,amount:{value:(I=i.amount)==null?void 0:I.value,currency:(D=i.amount)==null?void 0:D.currency}}})},estimatedItems:{items:(X=o.items)==null?void 0:X.map(i=>{var I,D,j,Q,$,Y,q,H,J,K;return{uid:i.uid,price:{amount:(I=i.price)==null?void 0:I.value,currency:(D=i.price)==null?void 0:D.currency},taxedPrice:{amount:(j=i.taxedPrice)==null?void 0:j.value,currency:(Q=i.taxedPrice)==null?void 0:Q.currency},rowTotal:{amount:($=i.rowTotal)==null?void 0:$.value,currency:(Y=i.rowTotal)==null?void 0:Y.currency},rowTotalIncludingTax:{amount:(q=i.rowTotalIncludingTax)==null?void 0:q.value,currency:(H=i.rowTotalIncludingTax)==null?void 0:H.currency},regularPrice:{amount:(J=i.regularPrice)==null?void 0:J.value,currency:(K=i.regularPrice)==null?void 0:K.currency}}})}})}).finally(()=>{Z(!1)})},estimatedTotals:C,setEstimatedTotals:d,loading:ee}},Nr=100,kr=({children:ee,initialData:Z=null,routeCheckout:C,slots:d,errors:B,showTotalSaved:f,enableCoupons:T,enableGiftCards:_,updateLineItems:S=e=>e,...k})=>{var j,Q,$,Y,q,H,J,K,le,ue,oe,se,me,de,xe,pe,ge,Te,he,ye,Ce,Se,Ie,be,fe,_e,ve,Pe,Ee,Ne,ke,Ae,we,We,De,Le,Be,Fe,Oe,Ue,ze,Xe,Ve,Ze,je,Qe,$e,Ye,qe,He,Je,Ke,Re,Me,Ge,er,rr,tr,nr;const[e,F]=V(Z),[o,A]=V(!1),v=e==null?void 0:e.isVirtual;T=T??!0,_=_??!0;const{handleEstimateTotals:m,estimatedTotals:t,setEstimatedTotals:x,loading:g}=Er(),s=(j=te.config)==null?void 0:j.shoppingCartDisplaySetting,w=(s==null?void 0:s.subtotal)==="INCLUDING_TAX",P=(s==null?void 0:s.subtotal)==="INCLUDING_EXCLUDING_TAX",E=s==null?void 0:s.zeroTax,l=()=>(e==null?void 0:e.appliedGiftCards.reduce((c,a)=>c+a.appliedBalance.value,0))??0,O=c=>c!=null&&c.code?p(hr,{children:[p("span",{className:"cart-order-summary__coupon__code",children:[r(sr,{source:vr,size:"16"}),r("span",{children:c==null?void 0:c.code})]}),p("span",{className:"cart-order-summary__caption",children:[r(xr,{id:"Cart.PriceSummary.giftCard.appliedGiftCards.remainingBalance"}),r(u,{className:"cart-order-summary__caption",weight:"normal",size:"small",amount:c.giftCardBalance.value,currency:c.giftCardBalance.currency})]})]},c.code):null,N=(Q=te.config)==null?void 0:Q.cartGiftWrapping,W=($=te.config)==null?void 0:$.cartPrintedCard,n=e==null?void 0:e.totalGiftOptions;re(()=>{const c=ie.on("cart/data",a=>{var R,M,G;F(a);const ne=(R=a==null?void 0:a.addresses)==null?void 0:R.shipping,ae=a==null?void 0:a.isVirtual;(ne||ae)&&x(null),t==null&&x({estimatedTaxTotal:{amount:(M=a==null?void 0:a.totalTax)==null?void 0:M.value,currency:(G=a==null?void 0:a.totalTax)==null?void 0:G.currency}})},{eager:!0});return()=>{c==null||c.off()}},[]),re(()=>{A(B)},[B]),re(()=>{const c=ie.on("shipping/estimate",a=>{var R,M,G,ar,cr,ir;const ne={shippingCountry:(R=a==null?void 0:a.address)==null?void 0:R.countryCode,shippingState:(M=a==null?void 0:a.address)==null?void 0:M.region,shippingStateId:(G=a==null?void 0:a.address)==null?void 0:G.regionId,shippingZip:(ar=a==null?void 0:a.address)==null?void 0:ar.postCode},ae={carrier_code:((cr=a==null?void 0:a.shippingMethod)==null?void 0:cr.carrierCode)||"",method_code:((ir=a==null?void 0:a.shippingMethod)==null?void 0:ir.methodCode)||""};m(ne,ae)});return()=>{c==null||c.off()}},[m]);const[U,z]=V(!1);re(()=>{const c=ie.on("checkout/initialized",a=>{!a||(a==null?void 0:a.type)==="quote"||z(!0)});return()=>{c==null||c.off()}},[]);const h=pr({checkout:"Cart.PriceSummary.checkout",free:"Cart.PriceSummary.total.free",orderSummary:"Cart.PriceSummary.orderSummary",taxToBeDetermined:"Cart.PriceSummary.taxToBeDetermined"}),b=(e==null?void 0:e.hasOutOfStockItems)||o,X=Tr(c=>{!b&&e&&(c.preventDefault(),Sr(e,te.locale),setTimeout(()=>{const a=C==null?void 0:C({cartId:e.id});a&&(window.location.href=a)},Nr))},[b,e,C]),i=!v&&(d!=null&&d.EstimateShipping)?r(ce,{name:"EstimateShipping",slot:d.EstimateShipping},"estimateShippingId"):void 0;if(!Object.keys(e??{}).length||(e==null?void 0:e.totalQuantity)===0)return null;const I=T&&(d!=null&&d.Coupons)?r(ce,{name:"Coupons",slot:d.Coupons},"couponsId"):void 0,D=_&&(d!=null&&d.GiftCards)?r(ce,{name:"GiftCards",slot:d.GiftCards},"giftCardId"):void 0;return r(Pr,{...k,"data-testid":"cart-order-summary",heading:r("div",{children:h.orderSummary}),shipping:i,coupons:I,giftCards:D,loading:g,updateLineItems:S,appliedGiftCards:(Y=e==null?void 0:e.appliedGiftCards)!=null&&Y.length?{label:r(xr,{id:"Cart.PriceSummary.giftCard.appliedGiftCards.label",plural:(q=e==null?void 0:e.appliedGiftCards)==null?void 0:q.length,fields:{count:(H=e==null?void 0:e.appliedGiftCards)==null?void 0:H.length}}),price:r(u,{className:"cart-order-summary__price",amount:-l(),currency:(K=(J=e==null?void 0:e.appliedGiftCards)==null?void 0:J[0])==null?void 0:K.appliedBalance.currency}),content:(le=e==null?void 0:e.appliedGiftCards)==null?void 0:le.map(O).filter(Boolean)}:void 0,printedCard:{renderContent:!!((ue=n==null?void 0:n.printedCard)!=null&&ue.value),taxIncluded:W==="INCLUDING_TAX",taxInclAndExcl:W==="INCLUDING_EXCLUDING_TAX",priceExclTax:r(u,{"data-testid":"printed-card",amount:(oe=n==null?void 0:n.printedCard)==null?void 0:oe.value,currency:(se=n==null?void 0:n.printedCard)==null?void 0:se.currency}),priceInclTax:r(u,{amount:(me=n==null?void 0:n.printedCardInclTax)==null?void 0:me.value,currency:(de=n==null?void 0:n.printedCardInclTax)==null?void 0:de.currency})},itemsGiftWrapping:{renderContent:!!((xe=n==null?void 0:n.giftWrappingForItems)!=null&&xe.value),taxIncluded:N==="INCLUDING_TAX",taxInclAndExcl:N==="INCLUDING_EXCLUDING_TAX",priceExclTax:r(u,{amount:(pe=n==null?void 0:n.giftWrappingForItems)==null?void 0:pe.value,currency:(ge=n==null?void 0:n.giftWrappingForItems)==null?void 0:ge.currency}),priceInclTax:r(u,{amount:(Te=n==null?void 0:n.giftWrappingForItemsInclTax)==null?void 0:Te.value,currency:(he=n==null?void 0:n.giftWrappingForItemsInclTax)==null?void 0:he.currency})},orderGiftWrapping:{renderContent:!!((ye=n==null?void 0:n.giftWrappingForOrder)!=null&&ye.value),taxIncluded:N==="INCLUDING_TAX",taxInclAndExcl:N==="INCLUDING_EXCLUDING_TAX",priceExclTax:r(u,{amount:(Ce=n==null?void 0:n.giftWrappingForOrder)==null?void 0:Ce.value,currency:(Se=n==null?void 0:n.giftWrappingForOrder)==null?void 0:Se.currency}),priceInclTax:r(u,{amount:(Ie=n==null?void 0:n.giftWrappingForOrderInclTax)==null?void 0:Ie.value,currency:(be=n==null?void 0:n.giftWrappingForOrderInclTax)==null?void 0:be.currency})},subTotal:{taxIncluded:w&&!E,taxExcluded:P,zeroTaxSubtotal:E,priceExcludingTax:(fe=t==null?void 0:t.estimatedSubTotal)!=null&&fe.excludingTax?r(u,{"data-testid":"subtotal",...(_e=t==null?void 0:t.estimatedSubTotal)==null?void 0:_e.excludingTax}):r(u,{"data-testid":"subtotal",amount:(Pe=(ve=e==null?void 0:e.subtotal)==null?void 0:ve.excludingTax)==null?void 0:Pe.value,currency:(Ne=(Ee=e==null?void 0:e.subtotal)==null?void 0:Ee.excludingTax)==null?void 0:Ne.currency}),price:!E&&w||!E&&P?(ke=t==null?void 0:t.estimatedSubTotal)!=null&&ke.includingTax?r(u,{"data-testid":"subtotal",...(Ae=t==null?void 0:t.estimatedSubTotal)==null?void 0:Ae.includingTax}):r(u,{"data-testid":"subtotal",amount:(we=e==null?void 0:e.subtotal.includingTax)==null?void 0:we.value,currency:(We=e==null?void 0:e.subtotal.includingTax)==null?void 0:We.currency}):r(u,{"data-testid":"subtotal",amount:(Le=(De=e==null?void 0:e.subtotal)==null?void 0:De.excludingTax)==null?void 0:Le.value,currency:(Fe=(Be=e==null?void 0:e.subtotal)==null?void 0:Be.excludingTax)==null?void 0:Fe.currency})},discounts:(Oe=e==null?void 0:e.appliedDiscounts)==null?void 0:Oe.map(c=>{var a;return{label:c.label,price:r(u,{"data-testid":"summary-discount-total",amount:-c.amount.value,currency:c.amount.currency,sale:!0}),coupon:c!=null&&c.coupon?p("span",{children:[r(sr,{source:_r,size:"16"}),(a=c==null?void 0:c.coupon)==null?void 0:a.code]}):void 0}}),taxTotal:v&&!(e!=null&&e.appliedTaxes.length)&&!U||t&&t.estimatedTaxTotal==null?{price:r("span",{"data-testid":"tax-total-tbd",children:h.taxToBeDetermined})}:{price:t!=null&&t.estimatedTaxTotal?r(u,{"data-testid":"tax-total-estimated",...t==null?void 0:t.estimatedTaxTotal}):r(u,{"data-testid":"tax-total-actual",amount:(Ue=e==null?void 0:e.totalTax)==null?void 0:Ue.value,currency:(ze=e==null?void 0:e.totalTax)==null?void 0:ze.currency}),estimated:(!t||!t.estimatedTaxTotal)&&!((Xe=e==null?void 0:e.addresses)!=null&&Xe.shipping)},taxesApplied:v?void 0:s!=null&&s.fullSummary?(Ze=((Ve=t==null?void 0:t.estimatedAppliedTaxes)==null?void 0:Ve.taxes)||(e==null?void 0:e.appliedTaxes))==null?void 0:Ze.map(c=>({label:c.label,price:r(u,{"data-testid":"applied-taxes",amount:c.amount.value,currency:c.amount.currency})})):void 0,total:{price:t!=null&&t.estimatedGrandTotalPrice?((Qe=(je=t==null?void 0:t.estimatedGrandTotalPrice)==null?void 0:je.includingTax)==null?void 0:Qe.amount)===0?r("span",{"data-testid":"total-including-tax",children:h.free}):r(u,{"data-testid":"total-including-tax-estimated",...($e=t==null?void 0:t.estimatedGrandTotalPrice)==null?void 0:$e.includingTax}):((Ye=e==null?void 0:e.total)==null?void 0:Ye.includingTax.value)===0?r("span",{"data-testid":"total-including-tax",children:h.free}):r(u,{"data-testid":"total-including-tax-actual",amount:(qe=e==null?void 0:e.total)==null?void 0:qe.includingTax.value,currency:(He=e==null?void 0:e.total)==null?void 0:He.includingTax.currency}),estimated:(!t||!!(t!=null&&t.estimatedTaxTotal))&&!((Je=e==null?void 0:e.addresses)!=null&&Je.shipping),priceWithoutTax:s!=null&&s.grandTotal?t!=null&&t.estimatedAppliedTaxes?((Re=(Ke=t==null?void 0:t.estimatedGrandTotalPrice)==null?void 0:Ke.excludingTax)==null?void 0:Re.amount)===0?r("span",{"data-testid":"total-excluding-tax",children:h.free}):r(u,{"data-testid":"total-excluding-tax",...(Me=t==null?void 0:t.estimatedGrandTotalPrice)==null?void 0:Me.excludingTax}):((Ge=e==null?void 0:e.total)==null?void 0:Ge.excludingTax.value)===0?r("span",{"data-testid":"total-excluding-tax",children:h.free}):r(u,{"data-testid":"total-excluding-tax",amount:(er=e==null?void 0:e.total)==null?void 0:er.excludingTax.value,currency:(rr=e==null?void 0:e.total)==null?void 0:rr.excludingTax.currency}):void 0},primaryAction:C&&r(fr,{"data-testid":"checkout-button",variant:"primary",disabled:b,"aria-disabled":b,href:b?void 0:C({cartId:e.id}),onClick:X,children:h.checkout}),totalSaved:f?r(u,{amount:(tr=e==null?void 0:e.discount)==null?void 0:tr.value,currency:(nr=e==null?void 0:e.total)==null?void 0:nr.includingTax.currency}):void 0})};kr.getInitialData=async function(){return yr()};export{kr as O};
//# sourceMappingURL=OrderSummary.js.map
