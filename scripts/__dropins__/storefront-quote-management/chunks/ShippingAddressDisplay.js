/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsx as a,jsxs as c}from"@dropins/tools/preact-jsx-runtime.js";import{useState as y,useEffect as l}from"@dropins/tools/preact-compat.js";import{classes as u}from"@dropins/tools/lib.js";import{InLineAlert as f,Skeleton as h,SkeletonRow as q}from"@dropins/tools/components.js";import{S as _}from"./WarningFilled.js";import{useText as v}from"@dropins/tools/i18n.js";import{events as g}from"@dropins/tools/event-bus.js";const N=({className:i,shippingAddress:e,loading:m,noAddressMessage:p,...r})=>{const s=v({noAddressHeading:"NegotiableQuote.Manage.shippingAddress.noAddressHeading",noAddressDescription:"NegotiableQuote.Manage.shippingAddress.noAddressDescription"});return m?a(S,{}):e?c("div",{className:u(["quote-management-shipping-address-display",i]),"data-testid":"shipping-address-display",...r,children:[a("div",{className:"quote-management-shipping-address-display__field","data-testid":"address-name",children:c("span",{className:"quote-management-shipping-address-display__name",children:[e.firstname," ",e.lastname]})}),e.company&&a("div",{className:"quote-management-shipping-address-display__field","data-testid":"address-company",children:e.company}),e.street.map((o,t)=>a("div",{className:"quote-management-shipping-address-display__field","data-testid":`address-street-${t}`,children:o},t)),c("div",{className:"quote-management-shipping-address-display__field","data-testid":"address-city-region",children:[e.city,e.region&&`, ${e.region.label}`," ",e.postcode]}),a("div",{className:"quote-management-shipping-address-display__field","data-testid":"address-country",children:e.country.label}),a("div",{className:"quote-management-shipping-address-display__field","data-testid":"address-telephone",children:e.telephone})]}):a("div",{className:u(["quote-management-shipping-address-display","quote-management-shipping-address-display--empty",i]),"data-testid":"shipping-address-display-empty",...r,children:a(f,{type:"warning",variant:"primary","data-testid":"shipping-address-display-empty-alert",icon:a(_,{}),heading:s.noAddressHeading,description:p||s.noAddressDescription})})},S=()=>a(h,{"data-testid":"shipping-address-display-skeleton",children:a(q,{variant:"row",fullWidth:!0,size:"small",lines:5,multilineGap:"xsmall"})}),$=({shippingAddress:i,loading:e,...m})=>{const[p,r]=y(i);return l(()=>{i!==void 0&&r(i)},[i]),l(()=>{const s=g.on("quote-management/quote-data",o=>{var d,n;const t=(n=(d=o.quote)==null?void 0:d.shippingAddresses)==null?void 0:n[0];r(t)},{eager:!0});return()=>s==null?void 0:s.off()},[]),l(()=>{const s=g.on("quote-management/shipping-address-set",o=>{var d,n;const t=(n=(d=o.quote)==null?void 0:d.shippingAddresses)==null?void 0:n[0];r(t)},{eager:!0});return()=>s==null?void 0:s.off()},[]),l(()=>{const s=g.on("quote-management/quote-template-data",o=>{var d,n;const t=(n=(d=o.quoteTemplate)==null?void 0:d.shippingAddresses)==null?void 0:n[0];r(t)},{eager:!0});return()=>s==null?void 0:s.off()},[]),a(N,{shippingAddress:p,loading:e,...m})};export{$ as S};
//# sourceMappingURL=ShippingAddressDisplay.js.map
