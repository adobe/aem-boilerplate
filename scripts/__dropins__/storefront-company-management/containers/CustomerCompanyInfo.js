/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsx as r,jsxs as t}from"@dropins/tools/preact-jsx-runtime.js";import{useState as m,useEffect as u}from"@dropins/tools/preact-hooks.js";import{u as p}from"../chunks/useCompanyContextListener2.js";import{g as f}from"../chunks/getCustomerCompany.js";import{Card as c,Skeleton as h,SkeletonRow as i}from"@dropins/tools/components.js";import{classes as d}from"@dropins/tools/lib.js";import{useText as y}from"@dropins/tools/i18n.js";import"@dropins/tools/event-bus.js";import"../chunks/fetch-error.js";import"../chunks/fetch-graphql.js";import"@dropins/tools/fetch-graphql.js";const g=({customerCompanyInfo:e,loading:n,className:a})=>{const o=y({companyName:"Company.shared.fields.companyName",jobTitle:"Company.shared.fields.jobTitle",workPhoneNumber:"Company.shared.fields.workPhoneNumber",userRole:"Company.shared.fields.userRole"});return n?r(c,{variant:"secondary",className:d(["customer-company-info-card",a]),children:r("div",{className:"customer-company-info-card__content",children:t(h,{"data-testid":"customerCompanyInfoSkeletonLoader",children:[r(i,{variant:"heading",size:"xlarge",fullWidth:!1,lines:1}),r(i,{variant:"heading",size:"xlarge",fullWidth:!0,lines:1}),r(i,{variant:"heading",size:"xlarge",fullWidth:!0,lines:1}),r(i,{variant:"heading",size:"xlarge",fullWidth:!0,lines:1})]})})}):e?r(c,{variant:"secondary",className:d(["customer-company-info-card",a]),children:t("div",{className:"customer-company-info-card__content",children:[t("p",{children:[o.companyName,": ",e.companyName]}),e.jobTitle&&t("p",{children:[o.jobTitle,": ",e.jobTitle]}),e.workPhoneNumber&&t("p",{children:[o.workPhoneNumber,": ",e.workPhoneNumber]}),e.userRole&&t("p",{children:[o.userRole,": ",e.userRole]})]})}):null},C=()=>{const[e,n]=m(null),[a,o]=m(!0),s=async()=>{try{o(!0);const l=await f();n(l)}catch{n(null)}finally{o(!1)}};return u(()=>{s()},[]),p(s),{companyInfo:e,loading:a}},S=({className:e})=>{const{companyInfo:n,loading:a}=C();return r(g,{customerCompanyInfo:n,loading:a,className:e})};export{S as CustomerCompanyInfo};
//# sourceMappingURL=CustomerCompanyInfo.js.map
