/*! Copyright 2024 Adobe
All Rights Reserved. */
import{jsx as t,jsxs as u}from"@dropins/tools/preact-jsx-runtime.js";/* empty css                             */import{IllustratedMessage as m,Icon as l,Button as n}from"@dropins/tools/components.js";/* empty css                       */import{classes as a}from"@dropins/tools/lib.js";import{useEffect as p}from"@dropins/tools/preact-hooks.js";/* empty css                  */import{S as d}from"../chunks/OrderError.js";import{useText as h}from"@dropins/tools/i18n.js";import{s as i}from"../chunks/ServerErrorSignal.js";import"@dropins/tools/preact-compat.js";import"@dropins/tools/signals.js";const v=({className:o,contactSupport:e,errorMessage:r,onClick:c})=>{const s=h({Title:"Checkout.ServerError.title",Message:"Checkout.ServerError.message",ContactSupport:"Checkout.ServerError.contactSupport",Button:"Checkout.ServerError.button"});return t(m,{"aria-invalid":"true","aria-describedby":"checkout-server-error__message","aria-live":"polite",className:a(["checkout-server-error",o]),"data-testid":"checkout-server-error",heading:r??s.Title,message:u("p",{id:a(["checkout-server-error__message"]),children:[s.Message,t("br",{}),t("span",{children:e??s.ContactSupport})]}),icon:t(l,{className:a(["checkout-server-error__icon"]),source:d}),action:t(n,{className:a(["checkout-server-error__button"]),onClick:c,children:s.Button})})},T=({onRetry:o,onServerError:e})=>{const r=i.value,c=async()=>{o==null||o(),i.value=void 0};return p(()=>{r&&(e==null||e(r))},[r,e]),r?t(v,{errorMessage:r,onClick:c}):null};export{T as ServerError,T as default};
