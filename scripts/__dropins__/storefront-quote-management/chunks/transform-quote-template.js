/*! Copyright 2025 Adobe
All Rights Reserved. */
import{a as y}from"./transform-quote.js";var i=(r=>(r.ACTIVE="Active",r.IN_REVIEW="In Review",r.INACTIVE="Inactive",r.SUBMITTED="Submitted",r.PENDING="Pending",r.CLOSED="Closed",r.OPEN="Open",r.UPDATED="Updated",r.EDITED="Edited",r.NEW="New",r.DRAFT="Draft",r.DECLINED="Declined",r.CANCELED="Canceled",r.EXPIRED="Expired",r))(i||{});function I(r){var o,_,s,e,l;return r?{id:r.template_id,uid:r.uid,name:r.name,createdAt:r.created_at,updatedAt:r.updated_at,expirationDate:r.expiration_date,status:r.status,salesRepName:r.sales_rep_name,buyer:{firstname:r.buyer.firstname,lastname:r.buyer.lastname},comments:(o=r.comments)==null?void 0:o.map(n=>{var a;return{uid:n.uid,createdAt:n.created_at,author:{firstname:n.author.firstname,lastname:n.author.lastname},text:n.text,attachments:(a=n.attachments)==null?void 0:a.map(d=>({name:d.name,url:d.url}))}}),prices:r.prices&&{subtotalExcludingTax:r.prices.subtotal_excluding_tax&&{value:r.prices.subtotal_excluding_tax.value,currency:r.prices.subtotal_excluding_tax.currency},subtotalIncludingTax:r.prices.subtotal_including_tax&&{value:r.prices.subtotal_including_tax.value,currency:r.prices.subtotal_including_tax.currency},subtotalWithDiscountExcludingTax:r.prices.subtotal_with_discount_excluding_tax&&{value:r.prices.subtotal_with_discount_excluding_tax.value,currency:r.prices.subtotal_with_discount_excluding_tax.currency},appliedTaxes:(_=r.prices.applied_taxes)==null?void 0:_.map(n=>({amount:{value:n.amount.value,currency:n.amount.currency},label:n.label})),grandTotal:r.prices.grand_total&&{value:r.prices.grand_total.value,currency:r.prices.grand_total.currency}},history:(s=r.history)==null?void 0:s.map(n=>({uid:n.uid,createdAt:n.created_at,author:{firstname:n.author.firstname,lastname:n.author.lastname},changeType:n.change_type,changes:n.changes})),items:((e=r.items)==null?void 0:e.map(n=>{var a,d,t,E,g,p;return{uid:n.uid,product:{uid:n.product.uid,sku:n.product.sku,name:n.product.name},quantity:n.quantity,prices:{originalItemPrice:{value:n.prices.original_item_price.value,currency:n.prices.original_item_price.currency},rowTotal:{value:n.prices.row_total.value,currency:n.prices.row_total.currency}},catalogDiscount:n.prices.catalog_discount&&{amountOff:n.prices.catalog_discount.amount_off,percentOff:n.prices.catalog_discount.percent_off},discounts:(d=(a=n.prices)==null?void 0:a.discounts)==null?void 0:d.map(c=>({label:c.label,value:c.value,amount:{value:c.amount.value,currency:c.amount.currency}})),noteFromBuyer:(t=n.note_from_buyer)==null?void 0:t.map(c=>({createdAt:c.created_at,creatorId:c.creator_id,creatorType:c.creator_type,negotiableQuoteItemUid:c.negotiable_quote_template_item_uid,note:c.note,noteUid:c.note_uid})),noteFromSeller:(E=n.note_from_seller)==null?void 0:E.map(c=>({createdAt:c.created_at,creatorId:c.creator_id,creatorType:c.creator_type,negotiableQuoteItemUid:c.negotiable_quote_template_item_uid,note:c.note,noteUid:c.note_uid})),configurableOptions:(g=n.configurable_options)==null?void 0:g.map(c=>({optionLabel:c.option_label,valueLabel:c.value_label})),bundleOptions:(p=n.bundle_options)==null?void 0:p.map(c=>({label:c.label,values:c.values.map(u=>({label:u.label,quantity:u.quantity,originalPrice:{value:u.original_price.value,currency:u.original_price.currency},price:{value:u.priceV2.value,currency:u.priceV2.currency}}))}))}}))||[],shippingAddresses:(l=r.shipping_addresses)==null?void 0:l.map(n=>({uid:n.uid,firstname:n.firstname,lastname:n.lastname,company:n.company,street:n.street,city:n.city,postcode:n.postcode,country:{code:n.country.code,label:n.country.label},telephone:n.telephone,region:n.region?{code:n.region.code,label:n.region.label,regionId:n.region.region_id}:void 0})),canAccept:[i.SUBMITTED,i.PENDING,i.EDITED,i.OPEN].includes(r.status),canDelete:[i.DECLINED,i.CANCELED,i.EXPIRED].includes(r.status),canReopen:[i.DECLINED,i.CANCELED,i.EXPIRED].includes(r.status),canCancel:[i.ACTIVE,i.SUBMITTED,i.PENDING,i.EDITED,i.OPEN,i.UPDATED].includes(r.status),canSendForReview:[i.DRAFT,i.NEW].includes(r.status),canGenerateQuoteFromTemplate:[i.ACTIVE].includes(r.status),canEditTemplateItems:[i.SUBMITTED,i.DRAFT,i.OPEN].includes(r.status)}:null}function v(r){var s;if(!r)return null;const o={items:((s=r.items)==null?void 0:s.map(e=>({id:e.template_id,uid:"TBD",name:e.name,createdAt:"0000-00-00 00:00:00",updatedAt:"0000-00-00 00:00:00",status:e.status,state:e.state,prices:{grandTotal:{value:0,currency:"USD"},minNegotiatedGrandTotal:{value:e.min_negotiated_grand_total,currency:"USD"}},lastSharedAt:e.last_shared_at,lastOrderedAt:"0000-00-00 00:00:00",expirationDate:"0000-00-00 00:00:00",ordersPlaced:e.orders_placed,canGenerateQuoteFromTemplate:[i.ACTIVE].includes(e.status)})))||[],pageInfo:{currentPage:r.page_info.current_page,pageSize:r.page_info.page_size,totalPages:r.page_info.total_pages},totalCount:r.total_count,sortFields:r.sort_fields?{default:r.sort_fields.default,options:r.sort_fields.options}:void 0},_=y(o);return{...o,paginationInfo:_||void 0}}export{i as N,I as a,v as t};
//# sourceMappingURL=transform-quote-template.js.map
