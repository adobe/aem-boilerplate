/*! Copyright 2026 Adobe
All Rights Reserved. */
import{jsxs as m,jsx as n}from"@dropins/tools/preact-jsx-runtime.js";import{useState as s,useMemo as P,useEffect as A}from"@dropins/tools/preact-compat.js";import{classes as L,Slot as _}from"@dropins/tools/lib.js";import{events as u}from"@dropins/tools/event-bus.js";import{i as j,t as C}from"../chunks/date.js";import{g as I}from"../chunks/getFetchedProductData.js";import{useText as M}from"@dropins/tools/i18n.js";import{c as N}from"../chunks/fetchProductData.js";import"../fragments.js";import"@dropins/tools/fetch-graphql.js";import"../chunks/isProductConfigurationValid.js";const T=({initialData:f=null,scope:i,children:y,slots:e,...c})=>{var l;const p=M("PDP.Product.Details.label").label,{globalLocale:b="en-US"}=N.getConfig(),[d,g]=s(b),[r,D]=s(f),h=P(()=>({data:r}),[r]);return A(()=>{const t=u.on("pdp/data",D,{scope:i}),o=u.on("locale",g);return()=>{t==null||t.off(),o==null||o.off()}},[i]),r?m("div",{...c,className:L(["pdp-attributes",c.className]),children:[p,e!=null&&e.Attributes?n(_,{name:"Attributes",slot:e==null?void 0:e.Attributes,context:{...h}}):n("ul",{children:(l=r==null?void 0:r.attributes)==null?void 0:l.map(({id:t,label:o,value:a},S)=>{if(t!=null&&t.startsWith("ac_")||!a)return null;const x=j(a)?C(a,d):a.toString();return m("li",{children:[o,": ",n("span",{dangerouslySetInnerHTML:{__html:x}})]},`attribute-${S}`)})})]}):null};T.getInitialData=I;export{T as ProductAttributes,T as default};
//# sourceMappingURL=ProductAttributes.js.map
