/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsx as t,jsxs as s,Fragment as Le}from"@dropins/tools/preact-jsx-runtime.js";import*as we from"@dropins/tools/preact-compat.js";import{useState as c,useMemo as M,useRef as ie,useEffect as y,useCallback as g,createPortal as j}from"@dropins/tools/preact-compat.js";import{classes as l,VComponent as Q,Slot as p,getGlobalLocale as ra}from"@dropins/tools/lib.js";/* empty css                        */import{Picker as ia,Skeleton as ma,SkeletonRow as F,Modal as la,Input as ca,TextArea as xe,Button as $,InLineAlert as L}from"@dropins/tools/components.js";import{events as x}from"@dropins/tools/event-bus.js";/* empty css                         */import"@dropins/tools/preact.js";import"@dropins/tools/preact-hooks.js";import{I as sa,C as me}from"../chunks/ItemsQuoted.js";/* empty css                        *//* empty css                                  *//* empty css                          */import{useText as Re}from"@dropins/tools/i18n.js";import{S as da}from"../chunks/ShippingAddressDisplay.js";import{Q as ua}from"../chunks/QuoteHistoryLog.js";import{g as ga,r as ba,c as fa,s as pa,d as Ma}from"../chunks/renameNegotiableQuote.js";import"../chunks/state.js";import{Q as ha}from"../chunks/QuoteCommentsList.js";import{a as G,S as le}from"../chunks/WarningFilled.js";import"../chunks/removeNegotiableQuoteItems.js";import"../chunks/fetch-graphql.js";import"@dropins/tools/fetch-graphql.js";import"../chunks/NegotiableQuoteFragment.js";import"../chunks/dateUtils.js";const Na=b=>we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit-2",...b},we.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})),qa=({className:b,dropdownPlaceholder:a,dropdownOptions:m,dropdownValue:h,handleDropdownChange:_,buttons:e,...d})=>{const N=m&&m.length>0,q=e&&e.length>0,u=(m==null?void 0:m.map(f=>({text:f.label,value:f.value})))||[];return u.unshift({text:a||"",value:""}),t("div",{className:"quote-management-actions-bar__container","data-testid":"actions-bar-container",children:s("div",{className:l(["quote-management-actions-bar",b]),"data-testid":"actions-bar",...d,children:[N&&t(ia,{name:"dropdown",id:"dropdown",handleSelect:_,className:"quote-management-actions-bar__dropdown","data-testid":"dropdown",options:u,value:h||""},`actions-bar-picker-${h||"empty"}`),q&&t("div",{className:"quote-management-actions-bar__buttons","data-testid":"buttons-container",children:e==null?void 0:e.map((f,C)=>t(Q,{node:f,className:l(["quote-management-actions-bar__button"])},C))})]})})},va=({className:b,loading:a,quoteName:m,quoteStatus:h,banner:_,details:e,actionBar:d,quoteContent:N,shippingInformationTitle:q,shippingInformation:u,quoteCommentsTitle:f,quoteComments:C,footer:v,...I})=>a?t(Qa,{}):s("div",{...I,className:l(["quote-management-manage-negotiable-quote",b]),children:[s("div",{className:l(["quote-management-manage-negotiable-quote__header"]),children:[m&&t(Q,{node:m,className:l(["quote-management-manage-negotiable-quote__quote-name"])}),h&&t(Q,{node:h,className:l(["quote-management-manage-negotiable-quote__quote-status"])})]}),_&&t(Q,{node:_,className:l(["quote-management-manage-negotiable-quote__banner"])}),e&&t(Q,{node:e,className:l(["quote-management-manage-negotiable-quote__details"])}),d&&t(Q,{node:d,className:l(["quote-management-manage-negotiable-quote__action-bar"])}),N&&t(Q,{node:N,className:l(["quote-management-manage-negotiable-quote__quote-content"])}),s("div",{"data-testid":"quote-shipping-information-container",className:l(["quote-management-manage-negotiable-quote__shipping-information-container"]),children:[q&&t(Q,{node:q,className:l(["quote-management-manage-negotiable-quote__shipping-information-title"])}),u&&t(Q,{node:u,className:l(["quote-management-manage-negotiable-quote__shipping-information"])})]}),s("div",{"data-testid":"quote-comments-container",className:l(["quote-management-manage-negotiable-quote__quote-comments-container"]),children:[f&&t(Q,{node:f,className:l(["quote-management-manage-negotiable-quote__quote-comments-title"])}),C&&t(Q,{node:C,className:l(["quote-management-manage-negotiable-quote__quote-comments"])})]}),t(Q,{node:v,className:l(["quote-management-manage-negotiable-quote__footer"])})]}),Qa=()=>s(ma,{"data-testid":"manage-negotiable-quote-skeleton",children:[t(F,{variant:"heading",fullWidth:!0,size:"large"}),t(F,{variant:"row",fullWidth:!1,size:"small"}),t(F,{variant:"row",fullWidth:!1,size:"small"}),t(F,{variant:"row",fullWidth:!0}),t(F,{variant:"row",fullWidth:!0,size:"xlarge",lines:2}),t(F,{variant:"row",fullWidth:!1,size:"small"})]}),_a=({className:b,tabs:a,tabsContent:m,defaultActiveTab:h,..._})=>{const[e,d]=c(h||Array.from(a.keys())[0]),N=u=>{d(u)},q=M(()=>m.get(e),[e,m]);return s("div",{..._,className:l(["quote-management-tabbed-content",b]),children:[a&&t("div",{"data-testid":"tabbed-content-tabs",className:l(["quote-management-tabbed-content__tabs"]),children:Array.from(a.entries()).map(([u,f])=>t("button",{className:l(["quote-management-tabbed-content__tab",["quote-management-tabbed-content__tab--active",u===e]]),onClick:()=>N(u),children:f},u))}),q&&t("div",{className:l(["quote-management-tabbed-content__active-tab-content"]),children:t(Q,{node:q})})]})},Sa=({className:b,open:a,quoteName:m,renameReason:h,quoteNameError:_,errorBanner:e,successBanner:d,showCloseButton:N=!0,onQuoteNameChange:q,onRenameReasonChange:u,onSave:f,onClose:C})=>{const v=Re({title:"NegotiableQuote.Manage.rename.title",quoteNameLabel:"NegotiableQuote.Manage.rename.quoteNameLabel",reasonLabel:"NegotiableQuote.Manage.rename.reasonLabel",renameButton:"NegotiableQuote.Manage.rename.renameButton",cancelButton:"NegotiableQuote.Manage.rename.cancelButton"});return a?s(la,{open:a,size:"medium",title:t(Le,{children:v.title}),onClose:C,clickToDismiss:!0,escapeToDismiss:!0,showCloseButton:N,className:l(["quote-management-rename-quote-modal",b]),"data-testid":"rename-quote-modal",children:[e&&t("div",{className:l(["quote-management-rename-quote-modal__error-banner"]),"data-testid":"rename-quote-modal-error-banner",children:e}),d&&t("div",{className:l(["quote-management-rename-quote-modal__success-banner"]),"data-testid":"rename-quote-modal-success-banner",children:d}),s("div",{className:l(["quote-management-rename-quote-modal__content"]),children:[s("div",{children:[t(ca,{name:"quoteName",type:"text",value:m,onInput:I=>q(I.target.value),floatingLabel:v.quoteNameLabel,required:!0,error:!!_}),_&&t("span",{className:l(["quote-management-rename-quote-modal__error-text"]),children:_})]}),t(xe,{name:"quoteComment",value:h,onInput:I=>u(I.target.value),label:v.reasonLabel,rows:3})]}),s("div",{className:l(["quote-management-rename-quote-modal__actions"]),children:[t($,{variant:"secondary",size:"medium",onClick:C,className:l(["quote-management-rename-quote-modal__cancel-button"]),children:v.cancelButton}),t($,{variant:"primary",size:"medium",onClick:f,className:l(["quote-management-rename-quote-modal__save-button"]),children:v.renameButton})]})]}):null},Za=({onActionsDropdownChange:b,slots:a,onActionsButtonClick:m,onSendForReview:h,..._})=>{const[e,d]=c(void 0),[N,q]=c(!0),[u,f]=c(!1),[C,v]=c(null),[I,U]=c(!1),[T,ce]=c(""),[H,X]=c(!1),[se,J]=c(!1),[de,K]=c(!1),[ue,R]=c(""),[ge,k]=c(""),[be,Y]=c(!1),[P,z]=c(""),[Z,W]=c(""),[A,B]=c(""),[Ee,E]=c(""),[ee,O]=c(""),[ae,fe]=c(new Set),pe=ie(ae),te=ie(null),[D,ne]=c(""),V=ie(D),[Me,he]=c(!1);y(()=>{pe.current=ae},[ae]),y(()=>{V.current=D},[D]);const o=Re({createdLabel:"NegotiableQuote.Manage.createdLabel",salesRepLabel:"NegotiableQuote.Manage.salesRepLabel",expiresLabel:"NegotiableQuote.Manage.expiresLabel",actionsLabel:"NegotiableQuote.Manage.actionsLabel",remove:"NegotiableQuote.Manage.actions.remove",close:"NegotiableQuote.Manage.actionButtons.close",delete:"NegotiableQuote.Manage.actionButtons.delete",print:"NegotiableQuote.Manage.actionButtons.print",createTemplate:"NegotiableQuote.Manage.actionButtons.createTemplate",createCopy:"NegotiableQuote.Manage.actionButtons.createCopy",shippingInformationTitle:"NegotiableQuote.Manage.shippingInformation.title",quoteCommentsTitle:"NegotiableQuote.Manage.quoteComments.title",quoteCommentsPlaceholder:"NegotiableQuote.Manage.quoteComments.placeholder",sendForReview:"NegotiableQuote.Manage.actionButtons.sendForReview",bannerTitle:"NegotiableQuote.Manage.bannerTitle",statusSubmitted:"NegotiableQuote.Manage.bannerStatusMessages.submitted",statusPending:"NegotiableQuote.Manage.bannerStatusMessages.pending",statusExpired:"NegotiableQuote.Manage.bannerStatusMessages.expired",errorFallback:"NegotiableQuote.Manage.confirmationModal.delete.errorFallback",closeSuccessMessage:"NegotiableQuote.Manage.confirmationModal.close.successDescription",closeModalTitle:"NegotiableQuote.Manage.actionButtons.close",closeModalMessage:"NegotiableQuote.Manage.confirmationModal.close.message",closeModalCancel:"NegotiableQuote.Manage.confirmationModal.cancel",closeModalConfirm:"NegotiableQuote.Manage.confirmationModal.close.confirm",closeModalConfirmLoading:"NegotiableQuote.Manage.confirmationModal.close.confirmLoading",closeModalSuccessHeading:"NegotiableQuote.Manage.confirmationModal.close.successHeading",renameErrorHeading:"NegotiableQuote.Manage.rename.errorHeading",renameQuoteNameRequired:"NegotiableQuote.Manage.rename.quoteNameRequired",renameErrorDefault:"NegotiableQuote.Manage.rename.errorDefault",renameSuccessHeading:"NegotiableQuote.Manage.rename.successHeading",renameSuccessMessage:"NegotiableQuote.Manage.rename.successMessage",confirmationModalCancel:"NegotiableQuote.Manage.confirmationModal.cancel",confirmationModalDeleteTitle:"NegotiableQuote.Manage.confirmationModal.delete.title",confirmationModalDeleteMessage:"NegotiableQuote.Manage.confirmationModal.delete.message",confirmationModalDeleteConfirm:"NegotiableQuote.Manage.confirmationModal.delete.confirm",confirmationModalDeleteErrorHeading:"NegotiableQuote.Manage.confirmationModal.delete.errorHeading",confirmationModalDeleteErrorFallback:"NegotiableQuote.Manage.confirmationModal.delete.errorFallback",noItemsSelectedModalTitle:"NegotiableQuote.Manage.confirmationModal.noItemsSelected.title",noItemsSelectedModalMessage:"NegotiableQuote.Manage.confirmationModal.noItemsSelected.message",noItemsSelectedModalConfirm:"NegotiableQuote.Manage.confirmationModal.noItemsSelected.confirm",confirmationModalDeleteSuccessHeading:"NegotiableQuote.Manage.confirmationModal.delete.successHeading",confirmationModalDeleteSuccessDescription:"NegotiableQuote.Manage.confirmationModal.delete.successDescription"});y(()=>{const n=x.on("quote-management/quote-data",r=>{const{quote:i}=r;i&&(d(i),q(!1))},{eager:!0});return()=>n==null?void 0:n.off()},[]),y(()=>{const n=x.on("quote-management/shipping-address-set",r=>{const{quote:i}=r;i&&d(i)},{eager:!0});return()=>n==null?void 0:n.off()},[]),y(()=>{const n=x.on("quote-management/quote-sent-for-review",r=>{const{quote:i}=r;d(i),ce(""),X(!1)},{eager:!0});return()=>n==null?void 0:n.off()},[]),y(()=>{const n=x.on("quote-management/quote-items-removed",r=>{const{quote:i,removedItemUids:S}=r;i&&d(i),S&&fe(w=>{const Te=new Set(w);return S.forEach(oa=>Te.delete(oa)),Te})},{eager:!0});return()=>n==null?void 0:n.off()},[]);const Ne=g((n,r)=>{fe(i=>{const S=new Set(i);return r?S.add(n.uid):S.delete(n.uid),S})},[]),qe=g(n=>{const r=n.target.value,i=pe.current;if(r==="remove"){if(ne(r),V.current=r,i.size===0)he(!0);else if(e&&te.current){const S=e.items.filter(w=>i.has(w.uid));te.current(S)}}b==null||b(n)},[b,e]),ve=g(()=>{he(!1),ne(""),V.current=""},[]);y(()=>{const n=x.on("quote-management/negotiable-quote-closed",async r=>{K(!1),k(""),R(o.closeSuccessMessage),d(i=>{var S;return i!=null&&i.uid&&((S=r.closedQuoteUids)!=null&&S.includes(i.uid))&&ga(i.uid).then(w=>{d(w)}).catch(w=>{console.warn("Failed to refresh quote data after closure:",w)}),i}),setTimeout(()=>{J(!1),R("")},2e3)},{eager:!0});return()=>n==null?void 0:n.off()},[o.closeSuccessMessage]),y(()=>{const n=x.on("quote-management/negotiable-quote-close-error",r=>{console.log("Close error event received:",r),K(!1),R("");const i=r.error.message||o.errorFallback;k(i)},{eager:!0});return()=>n==null?void 0:n.off()},[o.errorFallback]),y(()=>{const n=x.on("quote-management/quote-renamed",r=>{const{quote:i}=r;d(i),B(""),E(""),O(o.renameSuccessMessage),setTimeout(()=>{Y(!1),z(""),W(""),O("")},2e3)},{eager:!0});return()=>n==null?void 0:n.off()},[o.renameSuccessMessage]);const Qe=g(()=>{z((e==null?void 0:e.name)||""),W(""),B(""),E(""),O(""),Y(!0)},[e]),De=g(()=>{Y(!1),z(""),W(""),B(""),E(""),O("")},[]),Fe=g(n=>{z(n),n.trim()&&E("")},[]),He=g(async()=>{if(!P.trim()){E(o.renameQuoteNameRequired);return}try{B(""),E(""),await ba({quoteUid:e.uid,quoteName:P,quoteComment:Z.trim()||void 0})}catch(n){B(n.message||o.renameErrorDefault)}},[e,P,Z,o.renameQuoteNameRequired,o.renameErrorDefault]),ke=M(()=>{const n=e&&(e.lockedForEditing===!0||e.lockedForEditing===void 0&&(e.status==="SUBMITTED"||e.status==="PENDING"||e.status==="ORDERED"||e.status==="CLOSED"));return t(p,{name:"QuoteName",slot:a==null?void 0:a.QuoteName,context:{quoteName:e==null?void 0:e.name,quoteData:e},children:s("div",{className:"quote-management-manage-negotiable-quote__quote-name-wrapper",children:[t("h1",{"data-testid":"quote-name",className:"quote-management-manage-negotiable-quote__quote-name-title",children:e==null?void 0:e.name}),t("button",{onClick:Qe,disabled:n,"data-testid":"rename-quote-button",className:"quote-management-manage-negotiable-quote__rename-button","aria-label":"Rename quote",children:t(Na,{})})]})})},[a==null?void 0:a.QuoteName,e,Qe]),Be=M(()=>t(p,{name:"QuoteStatus",slot:a==null?void 0:a.QuoteStatus,context:{quoteStatus:e==null?void 0:e.status,quoteData:e},children:t("div",{"data-testid":"quote-status",children:e==null?void 0:e.status})}),[a==null?void 0:a.QuoteStatus,e]),_e=g(n=>{switch(n){case"SUBMITTED":return o.statusSubmitted;case"PENDING":return o.statusPending;case"EXPIRED":return o.statusExpired;default:return null}},[o])(e==null?void 0:e.status),Se=_e&&t(L,{type:"warning",variant:"secondary",icon:t(G,{}),heading:o.bannerTitle,description:_e}),Ue=Se&&t(p,{name:"Banner","data-testid":"banner",slot:a==null?void 0:a.Banner,context:{quoteData:e},children:Se}),Pe=M(()=>{if(!e)return null;const n=ra()||"en-US",r=new Intl.DateTimeFormat(n,{year:"numeric",month:"long",day:"numeric"});let i;try{i=r.format(new Date(e.expirationDate))}catch{i=e.expirationDate}return s(p,{name:"Details",slot:a==null?void 0:a.Details,context:{quoteData:e},children:[s("div",{className:"quote-management-manage-negotiable-quote__detail",children:[t("span",{className:"quote-management-manage-negotiable-quote__detail-title","data-testid":"created-label",children:o.createdLabel}),s("span",{className:"quote-management-manage-negotiable-quote__detail-content","data-testid":"created-value",children:[r.format(new Date(e.createdAt))," (",e.buyer.firstname," ",e.buyer.lastname,")"]})]}),s("div",{className:"quote-management-manage-negotiable-quote__detail",children:[t("span",{className:"quote-management-manage-negotiable-quote__detail-title","data-testid":"sales-rep-label",children:o.salesRepLabel}),t("span",{className:"quote-management-manage-negotiable-quote__detail-content","data-testid":"sales-rep-value",children:e.salesRepName})]}),s("div",{className:"quote-management-manage-negotiable-quote__detail",children:[t("span",{className:"quote-management-manage-negotiable-quote__detail-title","data-testid":"expires-label",children:o.expiresLabel}),t("span",{className:"quote-management-manage-negotiable-quote__detail-content","data-testid":"expires-value",children:i})]})]})},[a==null?void 0:a.Details,o,e]),Ce=M(()=>[{label:o.close,value:"close",disabled:!(e!=null&&e.canClose)},{label:o.delete,value:"delete",disabled:!(e!=null&&e.canDelete)},{label:o.print,value:"print"},{label:o.createTemplate,value:"createTemplate"},{label:o.createCopy,value:"createCopy"}],[o,e==null?void 0:e.canDelete,e==null?void 0:e.canClose]),ze=M(()=>{const n=r=>{switch(r){case"close":J(!0),k(""),R(""),m==null||m(r);break;case"delete":f(!0),m==null||m(r);break;case"print":m==null||m(r);break;case"createTemplate":m==null||m(r);break;case"createCopy":m==null||m(r);break}};return t(p,{name:"ActionBar",slot:a==null?void 0:a.ActionBar,context:{quoteData:e,actionsBarDropdownValue:D},children:t(qa,{dropdownPlaceholder:o.actionsLabel,dropdownOptions:[{label:o.remove,value:"remove"}],dropdownValue:D,handleDropdownChange:qe,buttons:Ce.map(r=>t($,{variant:"tertiary",onClick:()=>n(r.value),"data-testid":`actions-bar-${r.value}-button`,"data-action":r.value,disabled:r.disabled,children:r.label},r.value))})})},[Ce,o,a==null?void 0:a.ActionBar,e,qe,m,D]),We=M(()=>t(p,{name:"QuoteContent",slot:a==null?void 0:a.QuoteContent,context:{quoteData:e},children:t(_a,{tabs:new Map([["items-quoted","Items Quoted"],["comments","Comments"],["history-log","History Log"]]),tabsContent:new Map([["items-quoted",t(p,{name:"ItemsQuotedTab",slot:a==null?void 0:a.ItemsQuotedTab,context:{quoteData:e},children:t(sa,{quoteData:e,onItemCheckboxChange:Ne,onRemoveItemsRef:n=>{te.current=n},onRemoveModalStateChange:n=>{!n&&V.current==="remove"&&ne("")}})},"items-quoted")],["comments",t(p,{name:"CommentsTab",slot:a==null?void 0:a.CommentsTab,context:{quoteData:e},children:t(ha,{quoteData:e})},"comments")],["history-log",t(p,{name:"HistoryLogTab",slot:a==null?void 0:a.HistoryLogTab,context:{quoteData:e},children:t(ua,{quoteData:e})},"history-log")]])})}),[a==null?void 0:a.QuoteContent,a==null?void 0:a.HistoryLogTab,a==null?void 0:a.CommentsTab,a==null?void 0:a.ItemsQuotedTab,e,Ne]),Oe=M(()=>t(p,{name:"ShippingInformationTitle",slot:a==null?void 0:a.ShippingInformationTitle,context:{quoteData:e},children:t("h2",{children:o.shippingInformationTitle})}),[a==null?void 0:a.ShippingInformationTitle,e,o]),Ve=M(()=>t(p,{name:"ShippingInformation",slot:a==null?void 0:a.ShippingInformation,context:{quoteData:e,loading:N,setLoading:q},children:t(da,{quoteData:e,loading:N,"data-testid":"manage-quote-shipping-address"})}),[a==null?void 0:a.ShippingInformation,e,N,q]),je=M(()=>t(p,{name:"QuoteCommentsTitle",slot:a==null?void 0:a.QuoteCommentsTitle,context:{quoteData:e},children:t("h2",{children:o.quoteCommentsTitle})}),[a==null?void 0:a.QuoteCommentsTitle,o,e]),Ge=M(()=>t(p,{name:"QuoteComments",slot:a==null?void 0:a.QuoteComments,context:{quoteData:e},children:t(xe,{name:"quoteComments",placeholder:o.quoteCommentsPlaceholder,rows:3,value:T,onInput:n=>{ce(n.target.value)},disabled:H})}),[a==null?void 0:a.QuoteComments,o,e,T,H]),$e=g(async()=>{if(e!=null&&e.uid){K(!0),k(""),R("");try{await fa({quoteUids:[e.uid]})}catch(n){console.error("Failed to close quote:",n)}}},[e]),Xe=g(()=>{J(!1),k(""),R("")},[]),ye=g(async()=>{if(h){h({quoteData:e,comment:T.trim()||void 0});return}X(!0);try{await pa({quoteUid:e.uid,comment:T.trim()||void 0})}catch(n){console.error("Failed to send quote for review:",n),X(!1)}},[e,h,T]),Je=M(()=>t(p,{name:"Footer",slot:a==null?void 0:a.Footer,context:{quoteData:e,comment:T,isSubmitting:H},children:t($,{variant:"primary",onClick:ye,"data-testid":"send-for-review-button",disabled:!(e!=null&&e.canSendForReview)||H||!e,children:o.sendForReview})}),[a==null?void 0:a.Footer,o,e,T,H,ye]),Ke=M(()=>A?t(L,{type:"error",variant:"primary",icon:t(G,{color:"var(--color-error)"}),heading:o.renameErrorHeading,description:A}):void 0,[A,o.renameErrorHeading]),Ye=M(()=>ee?t(L,{type:"success",variant:"primary",icon:t(le,{}),heading:o.renameSuccessHeading,description:ee}):void 0,[ee,o.renameSuccessHeading]),oe=g(n=>n.errors&&Array.isArray(n.errors)&&n.errors.length>0?n.errors[0].message||o.confirmationModalDeleteErrorFallback:(n==null?void 0:n.message)||o.confirmationModalDeleteErrorFallback,[o.confirmationModalDeleteErrorFallback]),Ze=g(()=>{f(!1),v(null),U(!1)},[]),Ae=g(async()=>{if(e!=null&&e.uid){v(null),U(!1);try{const{operationResults:n}=await Ma(e.uid),r=n.find(i=>i.__typename==="DeleteNegotiableQuoteOperationFailure");if(r){const i=oe(r);v(i);return}U(!0)}catch(n){const r=oe(n);v(r)}}},[e,oe]),ea=g(()=>{v(null)},[]),aa=g(()=>{U(!1)},[]),ta=C?t(L,{type:"error",variant:"primary",icon:t(G,{}),heading:o.confirmationModalDeleteErrorHeading,description:C,onDismiss:ea,"data-testid":"confirmation-modal-error-banner"}):null,Ie=(I?t(L,{type:"success",variant:"primary",icon:t(le,{}),heading:o.confirmationModalDeleteSuccessHeading,description:o.confirmationModalDeleteSuccessDescription,onDismiss:aa,"data-testid":"confirmation-modal-success-banner"}):null)||ta,na={..._,loading:N,quoteName:ke,quoteStatus:Be,banner:Ue||void 0,details:Pe,actionBar:ze,quoteContent:We,shippingInformationTitle:Oe,shippingInformation:Ve,quoteCommentsTitle:je,quoteComments:Ge,footer:Je};let re=null;return ue?re=t(L,{type:"success",variant:"primary",icon:t(le,{}),heading:o.closeModalSuccessHeading,description:ue,"data-testid":"close-quote-success-banner"}):ge&&(re=t(L,{type:"error",variant:"primary",icon:t(G,{}),heading:o.confirmationModalDeleteErrorHeading,description:ge,"data-testid":"close-quote-error-banner"})),s(Le,{children:[t(va,{...na}),be&&j(t(Sa,{open:be,quoteName:P,renameReason:Z,quoteNameError:Ee,errorBanner:Ke,successBanner:Ye,onQuoteNameChange:Fe,onRenameReasonChange:W,onSave:He,onClose:De}),document.body),u&&j(t(me,{open:u,title:o.confirmationModalDeleteTitle,message:o.confirmationModalDeleteMessage,cancelLabel:o.confirmationModalCancel,confirmLabel:o.confirmationModalDeleteConfirm,onCancel:Ze,onConfirm:Ae,showCloseButton:!Ie,confirmationBanner:Ie}),document.body),se&&j(t(me,{open:se,title:o.closeModalTitle,message:o.closeModalMessage,cancelLabel:o.closeModalCancel,confirmLabel:de?o.closeModalConfirmLoading:o.closeModalConfirm,onCancel:Xe,onConfirm:de?void 0:$e,showCloseButton:!0,confirmationBanner:re,"data-testid":"close-quote-confirmation-modal"}),document.body),Me&&j(t(me,{open:Me,title:o.noItemsSelectedModalTitle,message:o.noItemsSelectedModalMessage,confirmLabel:o.noItemsSelectedModalConfirm,onConfirm:ve,onClose:ve,showCloseButton:!0,"data-testid":"no-items-selected-modal"}),document.body)]})};export{Za as ManageNegotiableQuote,Za as default};
//# sourceMappingURL=ManageNegotiableQuote.js.map
